<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Jadavpur University — CSE — Class of 2026</title>
    <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
    <style>
      :root{
        --bg:#f8fafc; --card:#fff; --muted:#64748b; --accent:#0f172a;
      }
      *{box-sizing:border-box}
      body{
        margin:0;font-family:Inter,ui-sans-serif,system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
        background:var(--bg);color:var(--accent);-webkit-font-smoothing:antialiased;
      }
      header.site-header{
        padding:48px 16px;background:linear-gradient(180deg,#07102a 0%, #0f172a 100%);
        color:#fff;text-align:center;
      }
      header .uni{font-size:20px;opacity:0.95;margin-bottom:6px}
      header h1{margin:6px 0;font-size:36px;letter-spacing:0.4px}
      header .meta{font-size:16px;opacity:0.9}

      main{max-width:1100px;margin:32px auto;padding:0 16px}

      .controls{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:18px}
      .controls .desc{color:var(--muted)}

      .grid{
        display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:18px
      }
      .tile{
        background:var(--card);border-radius:12px;padding:14px;box-shadow:0 6px 18px rgba(2,6,23,0.08);
        display:flex;flex-direction:column;align-items:center;text-align:center
      }
      .avatar{width:120px;height:120px;border-radius:999px;object-fit:cover;border:4px solid #fff;margin-top:-60px;box-shadow:0 8px 18px rgba(2,6,23,0.08)}
      .tile h3{margin:12px 0 6px;font-size:18px}
      .tile p{margin:0;color:var(--muted);font-size:14px}

      .hero-card{position:relative;background:var(--card);padding:64px 18px 24px;border-radius:12px;margin-top:-48px;box-shadow:0 10px 30px rgba(2,6,23,0.08)}

      footer{max-width:1100px;margin:28px auto;padding:16px;color:var(--muted);font-size:13px;text-align:center}

      @media (max-width:420px){header h1{font-size:26px}}
    </style>
  </head>
  <body>
    <header class="site-header">
      <div style="display:flex;align-items:center;justify-content:space-between;max-width:1100px;margin:0 auto;padding:0 16px;">
        <div>
          <div class="uni">Jadavpur University</div>
          <h1 style="margin:2px 0">Computer Science & Engineering — Class of 2026</h1>
          <div class="meta">A digital yearbook for the graduating batch</div>
        </div>
        <div style="text-align:right">
          <div style="font-size:13px;color:var(--muted);margin-bottom:8px">Repository</div>
          <div><a href="https://github.com/jubcse2026/jubcse2026.github.io" target="_blank" rel="noopener" style="color:#fff;text-decoration:underline">github.com/jubcse2026/jubcse2026.github.io</a></div>
        </div>
      </div>
    </header>

    <main>
      <div class="hero-card">
        <div style="display:flex;align-items:center;justify-content:space-between;gap:16px;flex-wrap:wrap">
          <div>
            <h2 style="margin:0 0 6px">Class Yearbook</h2>
            <div class="desc">Profiles below are added via Pull Requests. See the repository README for contribution instructions.</div>
          </div>
          <div style="text-align:right;color:var(--muted);font-size:14px">Batch: <strong>2026</strong></div>
        </div>
      </div>

      <div style="height:18px"></div>

      <div class="controls">
        <div class="desc">Profiles</div>
        <div><a href="README.md">How to contribute (README)</a></div>
      </div>

      <section id="students-area">
        <div id="grid" class="grid">
          <!-- student tiles inserted here -->
        </div>
        <div id="empty" style="text-align:center;color:var(--muted);margin-top:28px;display:none">No profiles yet — open a PR to add yours.</div>
      </section>

      <section id="howto" style="margin-top:28px;background:var(--card);padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(2,6,23,0.04)">
        <h3 style="margin-top:0">How to add your profile (quick)</h3>
        <p style="color:var(--muted);margin:6px 0 12px">Full instructions are in the repository README — the quick steps are below.</p>
        <pre style="background:#0f172a;color:#fff;padding:12px;border-radius:8px;overflow:auto;font-size:13px">git clone https://github.com/jubcse2026/jubcse2026.github.io.git
cd jubcse2026.github.io
cp students/template.json students/your-id.json
edit students/your-id.json and add images/your-id.jpg to images/
add "your-id.json" to students/index.json
git add . && git commit -m "Add profile: your-id" && git push
</pre>
        <p style="color:var(--muted);margin:8px 0">After your PR is merged the site will be redeployed automatically and your profile will appear.</p>
      </section>

      <section id="batch-photo" style="margin-top:22px;text-align:center">
        <h3 style="margin-bottom:8px">Full Batch Photo</h3>
        <p style="color:var(--muted);margin-top:0;margin-bottom:8px">Upload `images/batch.jpg` to show the full class photo here. (Hidden if not present)</p>
        <img id="batchImg" src="images/batch.jpg" alt="Full batch photo" style="max-width:100%;height:auto;border-radius:8px;box-shadow:0 8px 24px rgba(2,6,23,0.08)" onerror="this.style.display='none'">
      </section>
    </main>

    <footer>
      © 2026 Jadavpur University — CSE • Built with GitHub Pages
    </footer>

    <script>
      async function loadStudents(){
        const grid=document.getElementById('grid');
        const empty=document.getElementById('empty');
        try{
          const res=await fetch('students/index.json', {cache: 'no-store'});
          if(!res.ok) throw new Error('manifest not found');
          const list=await res.json();
          if(!Array.isArray(list) || list.length===0){ empty.style.display='block'; return }
          const students = await Promise.all(list.map(async (fn)=>{
            try{ const r=await fetch('students/'+fn); if(!r.ok) throw 0; return await r.json() }catch(e){console.warn('failed',fn);return null}
          }));
          const valid = students.filter(Boolean);
          if(valid.length===0){ empty.style.display='block'; return }
          valid.forEach(s=>{
            const el=document.createElement('article'); el.className='tile';
            const img=document.createElement('img'); img.className='avatar'; img.alt = s.name || 'Student photo'; img.src = s.image || ('images/'+(s.id||'placeholder') );
            el.appendChild(img);
            const h=document.createElement('h3'); h.textContent = s.name || 'Unnamed'; el.appendChild(h);
            const p=document.createElement('p'); p.textContent = s.quote || ''; el.appendChild(p);
            grid.appendChild(el);
          })
        }catch(err){ console.error(err); empty.style.display='block'; }
      }
      document.addEventListener('DOMContentLoaded', loadStudents);
    </script>
  </body>
</html>
